<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style> 
        *{margin: 0;padding: 0;}
        
        .main{height: 100vh;position: relative;}
        .imgs{position: relative;
            width: 900px;height: 1169px; margin: 5vh auto 0;
        }
        .imgs>img{position: absolute;
            left: 0;right: 0;top: 0;bottom: 0;
            }
        .main .square{position: absolute;
        top: 100px;left: 200px;
        background-color: lightblue;
        width: 100px;height: 300px;}
    </style>
</head>

<body>

    <div class="top" style="height: 50vh; background-color: gray;"></div>
    <div class="main">
        <div class="imgs">
            <img src="./img/머리.png" alt="머리" class="머리">
            <img src="./img/몸통.png" alt="몸통" class="몸통">
            <img src="./img/오른다리.png" alt="오른다리" class="오른다리">
            <img src="./img/오른팔.png" alt="오른팔" class="오른팔">
            <img src="./img/왼다리.png" alt="왼다리" class="왼다리">
            <img src="./img/왼팔.png" alt="왼팔" class="왼팔">
        </div>
        <div class="square">사각형</div>
    </div>
    <div class="bottom" style="height: 100vh; background-color: gray;"></div>




    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);
        //let value = document.querySelector('.square').offsetWidth/.offsetHeight//영역의 넓이 높이
        let value = document.querySelector('.square').offsetHeight

        let num=3;
        num += 4;//num = num+4
        

        let tl=gsap.timeline({
            scrollTrigger:{
                trigger:'.square',
                start:'top 60%',//화면에 바닥에 부딪히는 순간
                end:()=>`+= ${document.querySelector('.square').offsetHeight}`,
                end:()=>`+= 200%`,
                //start지점에서 .square의 높이(offsetHeight)만큼 스크롤이 이동되면 애니메이션이 끝난다.
                //%의 기준은 화면이다.
                markers:true,
                scrub:true,
            }
        }

        );
        tl.from('.몸통',{
            duration:1.5,
            opacity:0,
            x:100,y:100,
            ease: "power3.inOut",
        })
        tl.from('.머리',{
            duration:1.0,
            opacity:0,
            y:-100,
            ease: "power4.out",
        })
        tl.from('.왼팔',{
            duration:0.8,
            opacity:0,
            x:-100,
            ease: "power4.out",
        })
        tl.from('.오른팔',{
            duration:0.8,
            opacity:0,
            x:100,
            ease: "power4.out",
        })
        tl.from('.왼다리',{
            duration:0.8,
            opacity:0,
            x:-100,
            y:100,
            ease: "power3.in",
        })
        
        tl.add('tast')
        tl.from('.오른다리',{
            duration:0.8,
            opacity:0,
            x:100,
            y:100,
            ease: "power3.in",
        })
    </script>
</body>

</html>